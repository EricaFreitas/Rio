<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcular Desconto</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="banner">
        <div id="mensagem">Descubra a História por Trás do Filme Rio</div>
        <img src="imagemRio.png" alt="filme rio" id="img1">
    </div>
    <div class="cabeca"> 
        <nav>
            <ul>
                <li><a href="index.html">Cadastrar Personagem (P. Inicial)</a></li>
                <li><a href="desconto.html">Calcular Desconto</a></li>
                <li><a href="cadastroUsuario.html">Cadastro de Usuário</a></li>
                <li><a href="nivelSatisfacao.html">Satisfação</a></li>

            </ul>
        </nav>
        </div>
        <div class="imagem">
            <img src="rio1.jpg">
            <p>> R$45,00 para alugar.</p>
            <img src="rio2.jpg">
            <p>> R$60,00 para alugar.</p>               
         </div>
        <h1>Calcular Desconto</h1>
    <input type="text" id="valorCompra" placeholder="Insira o valor em reias ">
      <button onclick="calcularDesconto()">Calcular Desconto</button>
      <h1>Desconto aplicado: <span id="desconto"></span> </h1>

      <script>
        var mensagemElement = document.getElementById("mensagem");
        var bannerWidth = document.getElementById("banner").offsetWidth;
        var imagem = document.getElementById("img1");

        function animarMensagem() {
            var left = -900; 
            var interval = setInterval(function() {
                left += 5; 
                mensagemElement.style.left = left + "px";
            imagem.style.left = (left + 710) + "px";
    
                if (left >= bannerWidth) {
                    clearInterval(interval);
                    setTimeout(function() {
                        mensagemElement.style.left = "-900px";
                        imagem.style.left = "-900px"; 
                        animarMensagem(); 
                    }, 1000); 
                }
            }, 30); 
        }
    
        animarMensagem(); 

        function calcularDesconto(){
          const valorCompra= parseFloat(document.getElementById('valorCompra').value);

          let desconto= 0;

          if(valorCompra > 200){
              desconto= 0.2; //20%
          } else if (valorCompra > 100) {
              desconto= 0.1; //10%
          }else if ( valorCompra <= 100){
              desconto= 0.05; //5%
          }

          const valorDesconto = valorCompra * desconto;
          document.getElementById('desconto').textContent = `R$ ${valorDesconto.toFixed(2)}`;
        }
    </script>
</body>
</html>